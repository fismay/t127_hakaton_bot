# üìò README ‚Äî t127_hakaton_bot

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

`t127_hakaton_bot` ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –≤–∫–ª—é—á–∞—é—â–∏–π:

- **–ß–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ú–ê–ö–°** (—á–µ—Ä–µ–∑ Webhook)
- **–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–µ –ø—Ä—è–º–æ –∏–∑ —á–∞—Ç–∞
- **–°–µ—Ä–≤–µ—Ä –Ω–∞ Node.js**, –∫–æ—Ç–æ—Ä—ã–π:
  - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç webhook-–∑–∞–ø—Ä–æ—Å—ã –æ—Ç MAX Messenger
  - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã `/start`, `/create_profile`, `/set_task`, `/schedule` –∏ –¥—Ä.
  - –≤—ã–¥–∞—ë—Ç –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  - —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ SQLite
  - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–æ–≥–∏–Ω/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
- **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**, –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ cloudnc.ru

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –∑–∞–¥–∞—á–∏, –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏—Ö, –ø–æ–ª—É—á–∞—Ç—å –æ–ø—ã—Ç, –ø–æ–≤—ã—à–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏ –≤—ã—Ä–∞—â–∏–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –¥–µ—Ä–µ–≤–æ.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/bot
  index.js
  database.js
  scheduler.js
  tasks.js
  xp.js
  utils.js

/webapp
  index.html
  app.js
  style.css

server.js
package.json
Dockerfile
README.md
database.sqlite (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

---

## üîß –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
npm install
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

```
node server.js
```

–°–µ—Ä–≤–µ—Ä –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞:

```
http://localhost:3000
```

---

## üê≥ Docker

### 1. –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑

```
docker build -t t127_hakaton_bot:latest .
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```
docker run --rm -p 3000:3000 t127_hakaton_bot:latest
```

---

## üì¶ Dockerfile (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π)

```dockerfile
FROM node:18

# Install build tools for better-sqlite3
RUN apt-get update && apt-get install -y     python3     make     g++     sqlite3     && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY package.json package-lock.json* ./
RUN npm install --production

COPY . .

ENV PORT=3000
EXPOSE 3000

CMD ["node", "server.js"]
```

---

## üå©Ô∏è –î–µ–ø–ª–æ–π –Ω–∞ cloudnc.ru

1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ cloudnc.ru  
2. –£–∫–∞–∑–∞—Ç—å –ø–æ—Ä—Ç **3000**  
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å Docker-–æ–±—Ä–∞–∑ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å GitHub  
4. –ü–æ–ª—É—á–∏—Ç—å URL:

```
https://your-cloudnc-domain.cloudnc.ru
```

–≠—Ç–æ—Ç URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∞–¥—Ä–µ—Å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Webhook –≤ MAX

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±–æ—Ç–∞ –≤ MAX —É–∫–∞–∂–∏:

```
https://your-cloudnc-domain.cloudnc.ru/webhook
```

---

## ü§ñ –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞

–ü–æ—Å–ª–µ `/start` –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–Ω–æ–ø–∫—É:

**"–û—Ç–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

–°—Å—ã–ª–∫–∞:

```
https://your-cloudnc-domain.cloudnc.ru/app
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite (—Ñ–∞–π–ª `database.sqlite`).

–•—Ä–∞–Ω–∏—Ç—Å—è:

- –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
- –∑–∞–¥–∞—á–∏
- —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- —É—Ä–æ–≤–µ–Ω—å –∏ –æ–ø—ã—Ç
- —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö/–ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

---

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|
| `/start` | –∫–Ω–æ–ø–∫–∞ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `/create_profile` | —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è |
| `/set_schedule` | –∑–∞–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| `/edit_schedule` | –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| `/schedule` | –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ |
| `/set_task` | —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É |
| `/day_tasks` | –∑–∞–¥–∞—á–∏ –Ω–∞ –¥–µ–Ω—å |
| `/week_tasks` | –∑–∞–¥–∞—á–∏ –Ω–∞ –Ω–µ–¥–µ–ª—é |
| `/finish_task` | –æ—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π |
| `/func` | —Å–ø–∏—Å–æ–∫ —Ñ—É–Ω–∫—Ü–∏–π |

---

## üå± –ü—Ä–æ–∫–∞—á–∫–∞ —É—Ä–æ–≤–Ω–µ–π

| –£—Ä–æ–≤–µ–Ω—å | XP |
|---------|----|
| 0 | 0 |
| 1 | 10 |
| 2 | 50 |
| 3 | 100 |
| 4 | 200 |
| 5 | 500 |
| 6 | 1000 |

XP –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∑–∞:

- +1 ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏  
- +10 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏  
- +10 ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –î–ó  

---

## üîí –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- –ª–æ–≥–∏–Ω  
- –ø–∞—Ä–æ–ª—å  

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –±–∞–∑–µ, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–π—Ç–∏ —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
